# 명령어 참조

Tasky의 모든 명령어와 옵션에 대한 완전한 참조 가이드입니다.

## 전역 옵션

```bash
tasky [OPTIONS] <COMMAND>
```

### 기본 옵션
- `-h, --help`: 도움말 표시
- `-V, --version`: 버전 정보 표시

## 명령어 목록

### 1. init - 데이터베이스 초기화

```bash
tasky init [OPTIONS]
```

**설명**: 새 데이터베이스를 생성하고 초기화합니다.

**옵션**:
- `--force`: 기존 데이터베이스를 삭제하고 새로 생성

**예제**:
```bash
tasky init
tasky init --force
```

**종료 코드**:
- `0`: 성공
- `1`: 오류 발생

---

### 2. add - 할일 추가

```bash
tasky add <TITLE> [OPTIONS]
```

**설명**: 새로운 할일을 추가합니다.

**필수 인자**:
- `<TITLE>`: 할일 제목 (문자열)

**옵션**:
- `-d, --description <DESCRIPTION>`: 할일 설명
- `-p, --priority <PRIORITY>`: 우선순위 (기본값: medium)
- `--due <DUE_DATE>`: 마감일

**우선순위 값**:
| 값 | 별칭 | 한글 | 이모지 |
|---|------|------|-------|
| `low` | `l` | `낮음` | 🟢 |
| `medium` | `m` | `보통` | 🟡 |
| `high` | `h` | `높음` | 🔴 |

**날짜 형식**:
- `YYYY-MM-DD` (예: 2024-12-31)
- `YYYY/MM/DD` (예: 2024/12/31)
- `MM/DD/YYYY` (예: 12/31/2024)
- `DD/MM/YYYY` (예: 31/12/2024)
- `MMM DD, YYYY` (예: Dec 31, 2024)
- `DD MMM YYYY` (예: 31 Dec 2024)

**예제**:
```bash
tasky add "장보기"
tasky add "팀 미팅" -d "분기별 성과 검토"
tasky add "보고서 작성" -p high --due "2024-12-31"
```

**종료 코드**:
- `0`: 성공
- `1`: 잘못된 우선순위 또는 날짜 형식

---

### 3. list - 할일 목록 조회

```bash
tasky list [OPTIONS]
```

**설명**: 할일 목록을 필터링하고 정렬하여 표시합니다.

**필터 옵션**:
- `-s, --status <STATUS>`: 상태별 필터링
- `-p, --priority <PRIORITY>`: 우선순위별 필터링

**정렬 옵션**:
- `--sort <SORT_BY>`: 정렬 기준 (기본값: created)
- `--order <ORDER>`: 정렬 순서 (기본값: desc)

**특별 필터**:
- `--today`: 오늘 마감인 할일만 표시
- `--overdue`: 기한 초과된 할일만 표시
- `--urgent`: 긴급한 할일만 표시

**상태 값**:
| 값 | 별칭 | 한글 | 이모지 |
|---|------|------|-------|
| `pending` | `p` | `대기` | ⏳ |
| `done` | `d` | `완료` | ✅ |

**정렬 기준**:
| 값 | 별칭 | 설명 |
|---|------|------|
| `created` | `created_at` | 생성일 기준 |
| `updated` | `updated_at` | 수정일 기준 |
| `due` | `due_date` | 마감일 기준 |
| `priority` | - | 우선순위 기준 |
| `title` | - | 제목 기준 |

**정렬 순서**:
| 값 | 별칭 | 설명 |
|---|------|------|
| `asc` | `ascending` | 오름차순 |
| `desc` | `descending` | 내림차순 |

**예제**:
```bash
tasky list
tasky list -s pending
tasky list -p high
tasky list --sort due --order asc
tasky list --today
tasky list --overdue
tasky list --urgent
tasky list -s pending -p high
```

**출력 형식**:
```
┌────┬────────┬────────────┬─────────────────────┬────────────┬─────────────────────┐
│ ID │ 상태   │ 우선순위   │ 제목                │ 마감일     │ 생성일              │
├────┼────────┼────────────┼─────────────────────┼────────────┼─────────────────────┤
│ 1  │ ⏳ 대기중│ 🔴 높음   │ 중요한 작업         │ 2024-12-31 │ 2024-12-20 10:30:00│
└────┴────────┴────────────┴─────────────────────┴────────────┴─────────────────────┘

총 1개의 할일
```

**종료 코드**:
- `0`: 성공
- `1`: 잘못된 필터 또는 정렬 옵션

---

### 4. edit - 할일 수정

```bash
tasky edit <ID> [OPTIONS]
```

**설명**: 기존 할일의 정보를 수정합니다.

**필수 인자**:
- `<ID>`: 수정할 할일의 ID (양의 정수)

**옵션**:
- `-t, --title <TITLE>`: 새 제목
- `-d, --description <DESCRIPTION>`: 새 설명
- `-p, --priority <PRIORITY>`: 새 우선순위
- `--due <DUE_DATE>`: 새 마감일

**예제**:
```bash
tasky edit 1 -t "새로운 제목"
tasky edit 1 -d "새로운 설명"
tasky edit 1 -p high
tasky edit 1 --due "2024-12-31"
tasky edit 1 -t "수정된 제목" -p low --due "2024-12-30"
```

**종료 코드**:
- `0`: 성공
- `1`: 할일을 찾을 수 없음 또는 잘못된 옵션

---

### 5. done - 할일 완료

```bash
tasky done <ID>
```

**설명**: 할일을 완료 상태로 변경합니다.

**필수 인자**:
- `<ID>`: 완료할 할일의 ID (양의 정수)

**예제**:
```bash
tasky done 1
tasky done 5
```

**종료 코드**:
- `0`: 성공
- `1`: 할일을 찾을 수 없음

---

### 6. undone - 할일 복원

```bash
tasky undone <ID>
```

**설명**: 완료된 할일을 다시 대기 상태로 변경합니다.

**필수 인자**:
- `<ID>`: 대기 상태로 변경할 할일의 ID (양의 정수)

**예제**:
```bash
tasky undone 1
tasky undone 3
```

**종료 코드**:
- `0`: 성공
- `1`: 할일을 찾을 수 없음

---

### 7. remove - 할일 삭제

```bash
tasky remove <ID>
```

**설명**: 할일을 완전히 삭제합니다. **삭제된 할일은 복구할 수 없습니다.**

**필수 인자**:
- `<ID>`: 삭제할 할일의 ID (양의 정수)

**예제**:
```bash
tasky remove 1
tasky remove 10
```

**종료 코드**:
- `0`: 성공
- `1`: 할일을 찾을 수 없음

---

### 8. stats - 통계 보기

```bash
tasky stats
```

**설명**: 전체 할일에 대한 통계 정보를 표시합니다.

**출력 정보**:
- 전체 할일 개수
- 대기 중인 할일 개수 및 비율
- 완료된 할일 개수 및 비율
- 높은 우선순위 할일 개수
- 기한 초과된 할일 개수
- 완료율 (진행률 바 포함)

**예제**:
```bash
tasky stats
```

**출력 형식**:
```
📊 할일 통계
────────────────────────────────────────
전체 할일: 10
대기중: 7 (70%)
완료: 3 (30%)
높은 우선순위: 4
⚠️  기한 초과: 2
────────────────────────────────────────
완료율: [█████████░░░░░░░░░░░░░░░░░░░░░] 30.0%
```

**종료 코드**:
- `0`: 성공

---

## 환경 변수

### RUST_LOG
디버그 정보 출력 레벨 설정:

```bash
# 모든 로그 출력
export RUST_LOG=debug
tasky list

# 오류만 출력
export RUST_LOG=error
tasky list

# 로그 출력 안함
export RUST_LOG=off
tasky list
```

### TASKY_DB_PATH
데이터베이스 파일 경로 지정:

```bash
export TASKY_DB_PATH="/custom/path/tasky.db"
tasky init
```

## 종료 코드 참조

| 코드 | 의미 | 설명 |
|------|------|------|
| `0` | 성공 | 명령어가 성공적으로 실행됨 |
| `1` | 일반 오류 | 잘못된 인자, 파일 오류 등 |
| `2` | 잘못된 사용법 | 명령어 구문 오류 |

## 파일 및 디렉토리

### 데이터베이스 위치
- **Linux/macOS**: `~/.local/share/tasky/tasky.db`
- **Windows**: `%APPDATA%\tasky\tasky.db`

### 설정 파일 위치
현재 버전에서는 별도의 설정 파일을 사용하지 않습니다.

## 제한사항

### 문자열 길이
- 제목: 최대 255자
- 설명: 최대 1000자

### 날짜 범위
- 1970-01-01부터 2038-01-19까지 지원

### 동시 접근
- 동시에 여러 Tasky 인스턴스 실행 시 데이터베이스 락 발생 가능

## 호환성

### 운영 체제
- Linux (Ubuntu 18.04+)
- macOS (10.14+)
- Windows (10+)

### Rust 버전
- 최소 요구사항: Rust 1.70.0+
- 권장 버전: 최신 안정 버전

### 터미널
- UTF-8 인코딩 지원 필요
- 이모지 표시를 위한 폰트 권장